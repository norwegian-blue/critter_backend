{"version":3,"file":"js/837.60d58123.js","mappings":"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","sources":["webpack://critter_frontend/./src/components/Profile.vue","webpack://critter_frontend/./src/components/AdminPanel.vue","webpack://critter_frontend/./src/components/AdminPanel.vue?9a18","webpack://critter_frontend/./src/components/Profile.vue?2c99"],"sourcesContent":["<template>\n    <div class=\"container col-md-12\">\n        <header>\n            <div v-if=\"currentUser\" id=\"userName\">\n                <h4 class=\"mx-0 my-3 text-center\">&#x1008A; - {{ currentUser.username }} - &#x1008A;</h4>\n            </div>\n        </header>\n\n        <!-- Admin control panel -->\n        <div class=\"card card-container py-3\" v-if=\"currentUser && currentUser.role === 'ADMIN'\">\n            <AdminPanel/>\n        </div>\n\n        <!-- Update user info -->\n        <div class=\"card card-container\">\n            <img class=\"rounded mx-auto mb-3\" src=\"hedgehogMagician.jpg\" style=\"width:75%;height:75%\"/>\n            <Form @submit=\"handleUpdate\" :validation-schema=\"schema\">\n                <div class=\"form-group\">\n                    <label for=\"username\">New Username</label>\n                    <Field name=\"username\" type=\"text\" class=\"form-control\" />\n                    <ErrorMessage name=\"username\" class=\"error-feedback\" />\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"password\">New Password</label>\n                    <Field name=\"password\" type=\"password\" class=\"form-control\" />\n                    <ErrorMessage name=\"password\" class=\"error-feedback\" />\n                </div>\n                <div class=\"form-group mb-0\">\n                    <button class=\"btn btn-bosco btn-block\" :disabled=\"updLoading\">\n                        Update Profile\n                    </button>\n                </div>\n                <div class=\"form-group mt-3\">\n                    <div v-if=\"updMessage\" class=\"alert\" \n                        :class=\"updSuccess ? 'alert-success' : 'alert-danger'\"\n                         role=\"alert\">\n                        {{ updMessage }}\n                    </div>\n                </div>\n            </Form>  \n        </div>\n\n        <!-- Delete user -->\n        <div class=\"card card-container\">\n            <img class=\"rounded mx-auto mb-3\" src=\"rabbitMoon.jpg\" style=\"width:50%;height:50%\"/>\n            <Form @submit=\"handleDelete\">\n                <div class=\"form-group\">\n                    <button class=\"btn btn-bosco btn-block\" :disabled=\"delLoading\">\n                        Delete Profile\n                    </button> \n                </div>\n                <div class=\"form-group mt-3\">\n                    <div v-if=\"delMessage\" class=\"alert alert-danger\" role=\"alert\">\n                        {{ delMessage }}\n                    </div>\n                </div>\n            </Form>\n       </div>\n    </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport AdminPanel from \"./AdminPanel.vue\";\nimport * as yup from \"yup\";\nexport default {\n    name: \"Profile\",\n    components: {\n        Form,\n        Field,\n        ErrorMessage,\n        AdminPanel,\n    },\n    data() {\n        const schema = yup.object().shape({\n            username: yup\n                .string()\n                .required(\"Username is required!\")\n                .min(3, \"Must be at least 3 characters!\")\n                .max(20, \"Must be maximum 20 characters!\"),\n            password: yup\n                .string()\n                .required(\"Password is required!\")\n                .min(6, \"Must be at least 6 characters!\")\n                .max(40, \"Must be maximum 40 character\"),\n        });\n        return {\n            updLoading: false,\n            updMessage: \"\",\n            updSuccess: false,\n            delLoading: false,\n            delMessage: \"\",\n            schema,\n        };\n    },\n    computed: {\n        currentUser() {\n            return this.$store.state.auth.user;\n        },\n    },\n    updated() {\n        if (!this.$store.state.auth.status.loggedIn) {\n            return this.$router.push(\"/Landing\");\n        }\n    },\n    methods: {\n        handleUpdate(user) {\n            this.updLoading = true;\n            this.updMessage = \"\";\n            this.updSuccess = false;\n            this.$store.dispatch(\"auth/update\", {user: user, userId: this.currentUser.id}).then(\n                (data) => {\n                    this.updLoading = false;\n                    this.updMessage = \"Successfully updated user info!\";\n                    this.updSuccess = true;\n                },\n                (error) => {\n                    this.updLoading = false;\n                    this.updMessage = \n                        (error.response &&\n                            error.response.data &&\n                            error.response.data.message) ||\n                        error.message ||\n                        error.toString();\n                }\n            );\n        },\n        handleDelete() {\n            if (confirm(\"Do you really want to permanently delete current user?\")) {\n                this.delLoading = true;\n                this.$store.dispatch(\"auth/delete\", this.currentUser.id).then(\n                    () => {\n                        this.$router.push(\"/home\");\n                    },\n                    (error) => {\n                        this.delLoading = false;\n                        this.delMessage = \n                            (error.response &&\n                                error.response.data &&\n                                error.response.data.message) ||\n                            error.message ||\n                            error.toString();\n                    }\n                );\n            }\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/settings.scss\";\n\nlabel {\n    display: block;\n    margin-top: 10px;\n}\n\n.card-container.card {\n    max-width: 350px !important;\n    padding: 25px 30px;\n}\n\n.card {\n    background-color: #f7f7f7;\n    padding: 20px 25px 30px;\n    margin: 0 auto 25px;\n    margin-top: 20px;\n    -moz-border-radius: 2px;\n    -webkit-border-radius: 2px;\n    border-radius: 2px;\n    -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n    -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n}\n\n.error-feedback {\ncolor: red;\n}\n\n.btn-bosco {\n    color: #fff;\n    background-color: $boscoDark;\n}\n\n#userName {\n    font-family: 'Titan One', 'Noto Sans Linear B', sans-serif; \n}\n</style>","<template>\n    <h4 class=\"text-center\" id=\"title\">Admin panel</h4>\n   <div class=\"mb-0\">\n        <div class=\"row mx-0 my-3 userCtrl\"\n            v-for=\"user in this.users\"\n            :key=\"user.userId\"\n        > \n            <span class=\"mr-auto my-auto\" v-show=\"user.role !== 'ADMIN'\">\n                {{ user.username }}\n            </span>\n            <div class=\"ml-auto\" v-show=\"user.role !== 'ADMIN'\">\n                <button \n                    class=\"btn btn-success mr-2 px-2 py-1\"\n                    v-show=\"user.role === 'PENDING'\"\n                    @click=\"this.approve(user.id)\"\n                    :disabled=\"this.loading\"\n                >Approve</button>\n                <button \n                    class=\"btn btn-warning mr-2 px-2 py-1\"\n                    v-show=\"user.role === 'USER'\"\n                    @click=\"this.suspend(user.id)\"\n                    :disabled=\"this.loading\"\n                >Suspend</button>\n                <button class=\"btn btn-danger px-2 py-1\"\n                    @click=\"this.delete(user.id)\"\n                    :disabled=\"this.loading\"\n                >Delete</button>\n            </div>\n        </div>\n    </div> \n    <div v-if=\"message\" class=\"alert alert-danger m-0\" role=\"alert\">\n        {{ message }}\n    </div>\n</template>\n\n<script>\nimport AuthService from \"../services/auth-service\";\nexport default {\n    name: \"AdminPanel\",\n    data() {\n        return {\n            message: \"\",\n            users: \"\",\n            loading: false,\n        }\n    },\n    methods: {\n        getUsers() {\n            AuthService.getUsers()\n            .then(response => {\n                this.users = response.data;\n            })\n            .catch(error => {\n                this.displayError(error);\n            });\n        },\n        approve(userId) {\n            this.loading = true; \n            AuthService.approve(userId)\n            .then(() =>  {\n                this.loading = false;\n                this.getUsers();\n            })\n            .catch(err => {\n                this.loading = false;\n                this.displayError(err);\n            });\n        },\n        suspend(userId){\n            this.loading = true;\n            AuthService.suspend(userId)\n            .then(() => {\n                this.loading = false;\n                this.getUsers();\n            })\n            .catch(err => {\n                this.loading = false;\n                this.displayError(err);\n            });\n        },\n        delete(userId) {\n            if (confirm(\"Do you really want to permanently delete current user?\")) {\n                this.loading = true;\n                AuthService.delete(userId)\n                .then(() => {\n                    this.loading = false;\n                    this.getUsers();\n                })\n                .catch(err => {\n                    this.loading = false;\n                    this.displayError(err);\n                });\n            }\n        },\n        displayError(error) {\n            this.message =\n                (error.response &&\n                    error.response.data &&\n                    error.response.data.message) ||\n                error.message ||\n                error.toString();\n        },\n    },\n    mounted() {\n        this.getUsers();\n    }\n}\n</script>\n\n<style scoped>\n#title {\n    font-family: 'Titan One', 'sans-serif';\n}\n\n.userCtrl, .btn{\n    font-size: 0.75em;\n}\n</style>","import { render } from \"./AdminPanel.vue?vue&type=template&id=a550b22c&scoped=true\"\nimport script from \"./AdminPanel.vue?vue&type=script&lang=js\"\nexport * from \"./AdminPanel.vue?vue&type=script&lang=js\"\n\nimport \"./AdminPanel.vue?vue&type=style&index=0&id=a550b22c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/nicola/Documents/6.170/critter/critter_frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a550b22c\"]])\n\nexport default __exports__","import { render } from \"./Profile.vue?vue&type=template&id=1df4bade&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=1df4bade&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/nicola/Documents/6.170/critter/critter_frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1df4bade\"]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","src","style","for","role","_createElementBlock","$options","_toDisplayString","username","_createVNode","_component_AdminPanel","_hoisted_6","_component_Form","onSubmit","$data","_hoisted_8","_component_Field","name","type","_component_ErrorMessage","_hoisted_10","disabled","_hoisted_12","_hoisted_15","_hoisted_17","_hoisted_1","_Fragment","_renderList","users","user","key","userId","onClick","approve","loading","_hoisted_4","suspend","_hoisted_5","delete","data","message","methods","getUsers","AuthService","then","response","this","catch","error","displayError","err","confirm","toString","mounted","__exports__","components","Form","Field","ErrorMessage","AdminPanel","schema","yup","shape","required","min","max","password","updLoading","updMessage","updSuccess","delLoading","delMessage","computed","currentUser","$store","state","auth","updated","status","loggedIn","$router","push","handleUpdate","dispatch","handleDelete","render"],"sourceRoot":""}