"use strict";(self["webpackChunkcritter_frontend"]=self["webpackChunkcritter_frontend"]||[]).push([[290],{1290:function(s,e,r){r.r(e),r.d(e,{default:function(){return L}});var a=r(3396),o=r(9242),n=r(7139);const t=s=>((0,a.dD)("data-v-20b0c3d7"),s=s(),(0,a.Cn)(),s),d={class:"col-md-12"},i={class:"card card-container"},l=t((()=>(0,a._)("img",{id:"profile-img",src:"bunnyProfile.jpg",class:"profile-img-card"},null,-1))),c=["v-if"],u={class:"form-group"},m=t((()=>(0,a._)("label",{for:"username"},"Username",-1))),g={class:"form-group"},p=t((()=>(0,a._)("label",{for:"password"},"Password",-1))),f={class:"form-group"},h=["disabled"],b={class:"spinner-border spinner-border-sm"},_=t((()=>(0,a._)("span",null,"Login",-1))),v={class:"form-group"},w={key:0,class:"alert alert-danger",role:"alert"};function k(s,e,r,t,k,y){const q=(0,a.up)("Field"),F=(0,a.up)("ErrorMessage"),W=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",i,[l,(0,a.Wm)(W,{onSubmit:y.handleLogin,"validation-schema":k.schema},{default:(0,a.w5)((()=>[(0,a._)("div",{"v-if":!k.successful},[(0,a._)("div",u,[m,(0,a.Wm)(q,{name:"username",type:"text",class:"form-control"}),(0,a.Wm)(F,{name:"username",class:"error-feedback"})]),(0,a._)("div",g,[p,(0,a.Wm)(q,{name:"password",type:"password",class:"form-control"}),(0,a.Wm)(F,{name:"password",class:"error-feedback"})]),(0,a._)("div",f,[(0,a._)("button",{class:"btn btn-bosco btn-block",disabled:k.loading},[(0,a.wy)((0,a._)("span",b,null,512),[[o.F8,k.loading]]),_],8,h)])],8,c),(0,a._)("div",v,[k.message?((0,a.wg)(),(0,a.iD)("div",w,(0,n.zw)(k.message),1)):(0,a.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])])}var y=r(5708),q=r(6542),F={name:"Login",components:{Form:y.l0,Field:y.gN,ErrorMessage:y.Bc},data(){const s=q.Ry().shape({username:q.Z_().required("Username is required!"),password:q.Z_().required("Password is required!")});return{successful:!1,loading:!1,message:"",schema:s}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/creets")},methods:{handleLogin(s){this.loading=!0,this.$store.dispatch("auth/login",s).then((()=>{this.$router.push("/profile")}),(s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString()}))}}},W=r(89);const I=(0,W.Z)(F,[["render",k],["__scopeId","data-v-20b0c3d7"]]);var L=I}}]);
//# sourceMappingURL=290.5292b957.js.map