"use strict";(self["webpackChunkcritter_frontend"]=self["webpackChunkcritter_frontend"]||[]).push([[152],{3152:function(s,e,a){a.r(e),a.d(e,{default:function(){return y}});var r=a(3396),t=a(9242),n=a(7139);const o=s=>((0,r.dD)("data-v-7e17bbe1"),s=s(),(0,r.Cn)(),s),i={class:"col-md-12"},c={class:"card card-container"},d=o((()=>(0,r._)("img",{id:"profile-img",src:"hedgehogProfile.jpg",class:"profile-img-card"},null,-1))),l=["v-if"],u={class:"form-group"},m=o((()=>(0,r._)("label",{for:"username"},"Username",-1))),g={class:"form-group"},h=o((()=>(0,r._)("label",{for:"password"},"Password",-1))),p={class:"form-group"},f=["disabled"],b={class:"spinner-border spinner-border-sm"},_=(0,r.Uk)(" Sign Up ");function v(s,e,a,o,v,w){const k=(0,r.up)("Field"),M=(0,r.up)("ErrorMessage"),q=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",c,[d,(0,r.Wm)(q,{onSubmit:w.handleRegister,"validation-schema":v.schema},{default:(0,r.w5)((()=>[(0,r._)("div",{"v-if":!v.successful},[(0,r._)("div",u,[m,(0,r.Wm)(k,{name:"username",type:"text",class:"form-control"}),(0,r.Wm)(M,{name:"username",class:"error-feedback"})]),(0,r._)("div",g,[h,(0,r.Wm)(k,{name:"password",type:"password",class:"form-control"}),(0,r.Wm)(M,{name:"password",class:"error-feedback"})]),(0,r._)("div",p,[(0,r._)("button",{class:"btn btn-bosco btn-block",disabled:v.loading},[(0,r.wy)((0,r._)("span",b,null,512),[[t.F8,v.loading]]),_],8,f)])],8,l)])),_:1},8,["onSubmit","validation-schema"]),v.message?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,n.C_)(["alert",v.successful?"alert-success":"alert-danger"])},(0,n.zw)(v.message),3)):(0,r.kq)("",!0)])])}var w=a(5708),k=a(6542),M={name:"Register",components:{Form:w.l0,Field:w.gN,ErrorMessage:w.Bc},data(){const s=k.Ry().shape({username:k.Z_().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),password:k.Z_().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 character")});return{successful:!1,loading:!1,message:"",schema:s}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/profile")},methods:{handleRegister(s){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",s).then((s=>{this.message=s.message,this.successful=!0,this.loading=!1}),(s=>{this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),this.successful=!1,this.loading=!1}))}}},q=a(89);const x=(0,q.Z)(M,[["render",v],["__scopeId","data-v-7e17bbe1"]]);var y=x}}]);
//# sourceMappingURL=152.0e19acb9.js.map